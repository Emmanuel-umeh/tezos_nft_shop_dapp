{"ast":null,"code":"var _jsxFileName = \"/opt/tezos/nft-shop-example/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport \"./App.css\";\nimport ConnectButton from \"./components/ConnectWallet\";\nimport DisconnectButton from \"./components/DisconnectWallet\";\nimport qrcode from \"qrcode-generator\";\nimport UpdateContract from \"./components/UpdateContract\"; // import Transfers from \"./components/Transfers\";\n\nimport BuyNFT from \"./components/BuyNFT\";\nimport NFT_List from \"./components/NFT_List\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar BeaconConnection;\n\n(function (BeaconConnection) {\n  BeaconConnection[\"NONE\"] = \"\";\n  BeaconConnection[\"LISTENING\"] = \"Listening to P2P channel\";\n  BeaconConnection[\"CONNECTED\"] = \"Channel connected\";\n  BeaconConnection[\"PERMISSION_REQUEST_SENT\"] = \"Permission request sent, waiting for response\";\n  BeaconConnection[\"PERMISSION_REQUEST_SUCCESS\"] = \"Wallet is connected\";\n})(BeaconConnection || (BeaconConnection = {}));\n\nconst App = () => {\n  _s();\n\n  const [Tezos, setTezos] = useState(new TezosToolkit(\"https://api.tez.ie/rpc/granadanet\"));\n  const [contract, setContract] = useState(undefined);\n  const [publicToken, setPublicToken] = useState(\"\");\n  const [wallet, setWallet] = useState(null);\n  const [userAddress, setUserAddress] = useState(\"\");\n  const [userBalance, setUserBalance] = useState(0);\n  const [storage, setStorage] = useState();\n  const [copiedPublicToken, setCopiedPublicToken] = useState(false);\n  const [beaconConnection, setBeaconConnection] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"buy\");\n  const [nftList, setNftList] = useState([]); // Granadanet Increment/Decrement contract\n\n  const contractAddress = \"KT1JRAhJsmk8rNqBLEfgxr43Nm2LFkrPRLh2\";\n\n  const generateQrCode = () => {\n    const qr = qrcode(0, \"L\");\n    qr.addData(publicToken || \"\");\n    qr.make();\n    return {\n      __html: qr.createImgTag(4)\n    };\n  };\n\n  if (publicToken && (!userAddress || isNaN(userBalance))) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Buy and Sell NFTs on Tezos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"dialog\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: \"Welcome to this NFT DApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-align-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-broadcast-tower\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), \"\\xA0 Connecting to your wallet\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            dangerouslySetInnerHTML: generateQrCode(),\n            className: \"text-align-center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"public-token\",\n            children: [copiedPublicToken ? /*#__PURE__*/_jsxDEV(\"span\", {\n              id: \"public-token-copy__copied\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-thumbs-up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              id: \"public-token-copy\",\n              onClick: () => {\n                if (publicToken) {\n                  navigator.clipboard.writeText(publicToken);\n                  setCopiedPublicToken(true);\n                  setTimeout(() => setCopiedPublicToken(false), 2000);\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-copy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Public token: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: publicToken\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-align-center\",\n            children: [\"Status: \", beaconConnection ? \"Connected\" : \"Disconnected\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"footer\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"built-with-taquito.png\",\n          alt: \"Built with Taquito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  } else if (userAddress && !isNaN(userBalance)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Buy and Sell NFTs on Tezos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"buy\",\n          className: activeTab === \"buy\" ? \"active\" : \"\",\n          onClick: () => setActiveTab(\"buy\"),\n          children: \"Buy NFT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"sell\",\n          className: activeTab === \"sell\" ? \"active\" : \"\",\n          onClick: () => setActiveTab(\"sell\"),\n          children: \"Sell NFT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [activeTab === \"buy\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \" NFT available to buy \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), nftList ? /*#__PURE__*/_jsxDEV(NFT_List, {\n              list: nftList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this) : \"None\", /*#__PURE__*/_jsxDEV(BuyNFT, {\n              contract: contract,\n              setUserBalance: setUserBalance,\n              Tezos: Tezos,\n              userAddress: userAddress,\n              setStorage: setStorage,\n              setNftList: setNftList,\n              nftList: nftList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"sells\",\n            children: /*#__PURE__*/_jsxDEV(UpdateContract, {\n              contract: contract,\n              setUserBalance: setUserBalance,\n              Tezos: Tezos,\n              userAddress: userAddress,\n              setStorage: setStorage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-file-code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `https://better-call.dev/granadanet/${contractAddress}/operations`,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: contractAddress\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-address-card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), \"\\xA0 \", userAddress]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-piggy-bank\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), \"\\xA0\", (userBalance / 1000000).toLocaleString(\"en-US\"), \" \\uA729\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DisconnectButton, {\n          wallet: wallet,\n          setPublicToken: setPublicToken,\n          setUserAddress: setUserAddress,\n          setUserBalance: setUserBalance,\n          setWallet: setWallet,\n          setTezos: setTezos,\n          setBeaconConnection: setBeaconConnection\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"footer\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"built-with-taquito.png\",\n          alt: \"Built with Taquito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  } else if (!publicToken && !userAddress && !userBalance) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Buy and Sell NFTs on Tezos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://app.netlify.com/start/deploy?repository=https://github.com/ecadlabs/taquito-boilerplate\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://www.netlify.com/img/deploy/button.svg\",\n            alt: \"netlify-button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"dialog\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: \"Welcome to this NFT DApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Hello!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Go forth and Tezos!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ConnectButton, {\n          Tezos: Tezos,\n          setContract: setContract,\n          setPublicToken: setPublicToken,\n          setWallet: setWallet,\n          setUserAddress: setUserAddress,\n          setUserBalance: setUserBalance,\n          setStorage: setStorage,\n          setNftList: setNftList,\n          contractAddress: contractAddress,\n          setBeaconConnection: setBeaconConnection,\n          wallet: wallet\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"footer\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"built-with-taquito.png\",\n          alt: \"Built with Taquito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"An error has occurred\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n_s(App, \"fJXatpx9rFqOSjNyjv85PaLRUU0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/opt/tezos/nft-shop-example/src/App.tsx"],"names":["React","useState","TezosToolkit","ConnectButton","DisconnectButton","qrcode","UpdateContract","BuyNFT","NFT_List","BeaconConnection","App","Tezos","setTezos","contract","setContract","undefined","publicToken","setPublicToken","wallet","setWallet","userAddress","setUserAddress","userBalance","setUserBalance","storage","setStorage","copiedPublicToken","setCopiedPublicToken","beaconConnection","setBeaconConnection","activeTab","setActiveTab","nftList","setNftList","contractAddress","generateQrCode","qr","addData","make","__html","createImgTag","isNaN","navigator","clipboard","writeText","setTimeout","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { TezosToolkit } from \"@taquito/taquito\";\nimport \"./App.css\";\nimport ConnectButton from \"./components/ConnectWallet\";\nimport DisconnectButton from \"./components/DisconnectWallet\";\nimport qrcode from \"qrcode-generator\";\nimport UpdateContract from \"./components/UpdateContract\";\n// import Transfers from \"./components/Transfers\";\nimport BuyNFT from \"./components/BuyNFT\"; \nimport NFT_List from \"./components/NFT_List\";\n\nenum BeaconConnection {\n  NONE = \"\",\n  LISTENING = \"Listening to P2P channel\",\n  CONNECTED = \"Channel connected\",\n  PERMISSION_REQUEST_SENT = \"Permission request sent, waiting for response\",\n  PERMISSION_REQUEST_SUCCESS = \"Wallet is connected\"\n}\n\nconst App = () => {\n  const [Tezos, setTezos] = useState<TezosToolkit>(\n    new TezosToolkit(\"https://api.tez.ie/rpc/granadanet\")\n  );\n  const [contract, setContract] = useState<any>(undefined);\n  const [publicToken, setPublicToken] = useState<string | null>(\"\");\n  const [wallet, setWallet] = useState<any>(null);\n  const [userAddress, setUserAddress] = useState<string>(\"\");\n  const [userBalance, setUserBalance] = useState<number>(0);\n  const [storage, setStorage] = useState<any>();\n  const [copiedPublicToken, setCopiedPublicToken] = useState<boolean>(false);\n  const [beaconConnection, setBeaconConnection] = useState<boolean>(false);\n  const [activeTab, setActiveTab] = useState<string>(\"buy\");\n  const [nftList, setNftList] = useState<[]>([]);\n\n  // Granadanet Increment/Decrement contract\n  const contractAddress: string = \"KT1JRAhJsmk8rNqBLEfgxr43Nm2LFkrPRLh2\";\n\n  const generateQrCode = (): { __html: string } => {\n    const qr = qrcode(0, \"L\");\n    qr.addData(publicToken || \"\");\n    qr.make();\n\n    return { __html: qr.createImgTag(4) };\n  };\n\n  if (publicToken && (!userAddress || isNaN(userBalance))) {\n    return (\n      <div className=\"main-box\">\n        <h1>Buy and Sell NFTs on Tezos</h1>\n        <div id=\"dialog\">\n          <header>Welcome to this NFT DApp</header>\n          <div id=\"content\">\n            <p className=\"text-align-center\">\n              <i className=\"fas fa-broadcast-tower\"></i>&nbsp; Connecting to\n              your wallet\n            </p>\n\n\n            <div\n              dangerouslySetInnerHTML={generateQrCode()}\n              className=\"text-align-center\"\n            ></div>\n\n\n            <p id=\"public-token\">\n              {copiedPublicToken ? (\n                <span id=\"public-token-copy__copied\">\n                  <i className=\"far fa-thumbs-up\"></i>\n                </span>\n              ) : (\n                <span\n                  id=\"public-token-copy\"\n                  onClick={() => {\n                    if (publicToken) {\n                      navigator.clipboard.writeText(publicToken);\n                      setCopiedPublicToken(true);\n                      setTimeout(() => setCopiedPublicToken(false), 2000);\n                    }\n                  }}\n                >\n                  <i className=\"far fa-copy\"></i>\n                </span>\n              )}\n\n              <span>\n                Public token: <span>{publicToken}</span>\n              </span>\n            </p>\n\n\n\n            <p className=\"text-align-center\">\n              Status: {beaconConnection ? \"Connected\" : \"Disconnected\"}\n            </p>\n          </div>\n        </div>\n        <div id=\"footer\">\n          <img src=\"built-with-taquito.png\" alt=\"Built with Taquito\" />\n        </div>\n      </div>\n    );\n  } else if (userAddress && !isNaN(userBalance)) {\n    return (\n      <div className=\"main-box\">\n        <h1>Buy and Sell NFTs on Tezos</h1>\n        <div id=\"tabs\">\n\n          <div\n            id=\"buy\"\n            className={activeTab === \"buy\" ? \"active\" : \"\"}\n            onClick={() => setActiveTab(\"buy\")}\n          >\n            Buy NFT\n          </div>\n          <div\n            id=\"sell\"\n            className={activeTab === \"sell\" ? \"active\" : \"\"}\n            onClick={() => setActiveTab(\"sell\")}\n          >\n            Sell NFT\n          </div>\n        </div>\n\n\n        <div>\n          <div>\n\n\n            {activeTab === \"buy\" ? (\n              <div>\n              <h4> NFT available to buy </h4>\n                { nftList ? <NFT_List list={nftList} />: \"None\"}\n                <BuyNFT\n                  contract={contract}\n                  setUserBalance={setUserBalance}\n                  Tezos={Tezos}\n                  userAddress={userAddress}\n                  setStorage={setStorage}\n                  setNftList={setNftList}\n                  nftList={nftList}\n                />\n\n              </div>\n            ) : (\n              <div id=\"sells\">\n\n                <UpdateContract\n                  contract={contract}\n                  setUserBalance={setUserBalance}\n                  Tezos={Tezos}\n                  userAddress={userAddress}\n                  setStorage={setStorage}\n                />\n\n              </div>\n            )}\n\n\n\n            <p>\n              <i className=\"far fa-file-code\"></i>&nbsp;\n              <a\n                href={`https://better-call.dev/granadanet/${contractAddress}/operations`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {contractAddress}\n              </a>\n            </p>\n\n            <p>\n              <i className=\"far fa-address-card\"></i>&nbsp; {userAddress}\n            </p>\n\n            <p>\n              <i className=\"fas fa-piggy-bank\"></i>&nbsp;\n              {(userBalance / 1000000).toLocaleString(\"en-US\")} ꜩ\n            </p>\n          </div>\n\n          <DisconnectButton\n            wallet={wallet}\n            setPublicToken={setPublicToken}\n            setUserAddress={setUserAddress}\n            setUserBalance={setUserBalance}\n            setWallet={setWallet}\n            setTezos={setTezos}\n            setBeaconConnection={setBeaconConnection}\n          />\n        </div>\n\n        <div id=\"footer\">\n          <img src=\"built-with-taquito.png\" alt=\"Built with Taquito\" />\n        </div>\n      </div>\n    );\n  } else if (!publicToken && !userAddress && !userBalance) {\n    return (\n      <div className=\"main-box\">\n        <div className=\"title\">\n          <h1>Buy and Sell NFTs on Tezos</h1>\n          <a href=\"https://app.netlify.com/start/deploy?repository=https://github.com/ecadlabs/taquito-boilerplate\">\n            <img\n              src=\"https://www.netlify.com/img/deploy/button.svg\"\n              alt=\"netlify-button\"\n            />\n          </a>\n        </div>\n        <div id=\"dialog\">\n          <header>Welcome to this NFT DApp</header>\n          <div id=\"content\">\n            <p>Hello!</p>\n            <p>Go forth and Tezos!</p>\n          </div>\n          <ConnectButton\n            Tezos={Tezos}\n            setContract={setContract}\n            setPublicToken={setPublicToken}\n            setWallet={setWallet}\n            setUserAddress={setUserAddress}\n            setUserBalance={setUserBalance}\n            setStorage={setStorage}\n            setNftList={setNftList}\n            contractAddress={contractAddress}\n            setBeaconConnection={setBeaconConnection}\n            wallet={wallet}\n          />\n        </div>\n        <div id=\"footer\">\n          <img src=\"built-with-taquito.png\" alt=\"Built with Taquito\" />\n        </div>\n      </div>\n    );\n  } else {\n    return <div>An error has occurred</div>;\n  }\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}